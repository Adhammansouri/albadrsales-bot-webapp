# بوت المبيعات - برنامج البدر

هذا البوت مصمم لمساعدة فريق المبيعات في تصنيف العملاء المحتملين وتحديد مستوى اهتمامهم.

## المتطلبات

- Python 3.7 أو أحدث
- حساب Telegram
- توكن بوت Telegram (يمكن الحصول عليه من @BotFather)

## التثبيت

1. قم بتثبيت المتطلبات:
```bash
pip install -r requirements.txt
```

2. قم بتعديل ملف `sales_bot.py` وأضف توكن البوت الخاص بك:
```python
application = Application.builder().token('YOUR_BOT_TOKEN').build()
```

## التشغيل

لتشغيل البوت، قم بتنفيذ:
```bash
python sales_bot.py
```

## الميزات

- تصنيف العملاء المحتملين إلى ثلاثة مستويات:
  - عميل محتمل عالي
  - عميل محتمل متوسط
  - عميل محتمل منخفض
- واجهة مستخدم سهلة الاستخدام مع أزرار تفاعلية
- تتبع محادثات العملاء
- حفظ بيانات العملاء في ملف Excel يتضمن:
  - التاريخ والوقت
  - اسم المستخدم
  - معرف المستخدم
  - نوع العميل
  - رقم الهاتف
  - البريد الإلكتروني
- إمكانية التوسع وإضافة المزيد من الميزات

## الاستخدام

1. ابدأ المحادثة مع البوت باستخدام الأمر `/start`
2. اختر مستوى اهتمامك
3. أدخل رقم هاتفك
4. أدخل بريدك الإلكتروني
5. سيتم تصنيفك تلقائياً وحفظ معلوماتك في ملف Excel
6. سيتواصل معك فريق المبيعات قريباً

## ملف البيانات

سيتم إنشاء ملف `customer_data.xlsx` تلقائياً عند تشغيل البوت لأول مرة. يحتوي هذا الملف على جميع بيانات العملاء المحتملين.

## Albadr Sales Dashboard Web App

### كيفية التشغيل محلياً

1. ثبّت المتطلبات:
   ```bash
   pip install -r requirements.txt
   ```
2. شغّل التطبيق:
   ```bash
   python run.py
   ```
3. افتح المتصفح على: [http://localhost:5000](http://localhost:5000)

### كيفية النشر على Vercel

1. تأكد من أن مشروعك موجود في مستودع Git (مثل GitHub, GitLab, Bitbucket).
2. قم بإنشاء حساب على Vercel وربطه بمستودع Git الخاص بك.
3. في لوحة تحكم Vercel، قم بإنشاء مشروع جديد واختر مستودع مشروع بوت المبيعات.
4. غالباً ما يتعرف Vercel تلقائياً على تطبيق Flask. تأكد من أن أمر البناء (Build Command) هو `pip install -r requirements.txt` (هذا هو الافتراضي لـ Python) وأن أمر التشغيل (Start Command) يشير إلى ملف التشغيل الخاص بك، مثل `gunicorn --workers 4 run:app` أو فقط `python run.py` إذا كانت Vercel تدعم تشغيل ملف مباشر (تحقق من وثائق Vercel لتطبيقات Python/Flask للحصول على الأمر الدقيق).
5. بعد النشر الناجح، سيوفر لك Vercel رابط HTTPS لتطبيقك المنشور.

### ربط التطبيق مع بوت تيليجرام (بعد النشر)

- بعد الحصول على رابط HTTPS من خدمة الاستضافة (مثل Vercel)، عد إلى BotFather.
- استخدم الأمر `/setwebapp` أو `/setdomain` (تحقق من BotFather لمعرفة الأمر الدقيق) وأضف رابط HTTPS الذي حصلت عليه.
- بعد ذلك، سيقوم BotFather بإعداد رابط تيليجرام الخاص بتطبيق الويب (`t.me/bot/app`) والذي يمكنك استخدامه في البوت. 